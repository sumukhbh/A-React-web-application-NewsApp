{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\sumuk\\\\hw8frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\sumuk\\\\hw8frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\sumuk\\\\hw8frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\sumuk\\\\hw8frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\sumuk\\\\hw8frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import{withRouter}from\"react-router-dom\";import Spinner from\"./Spinner\";import ShareModal from\"./ShareModal\";import{Card}from\"react-bootstrap\";import Container from\"react-bootstrap/Container\";import Col from\"react-bootstrap/Col\";import Row from\"react-bootstrap/Row\";import{Badge}from'react-bootstrap';var SearchResults=/*#__PURE__*/function(_React$Component){_inherits(SearchResults,_React$Component);var _super=_createSuper(SearchResults);function SearchResults(){var _this;_classCallCheck(this,SearchResults);_this=_super.call(this);_this.state={Loading:true,articlesList:[],artList:[],articleId:\"\"};_this.Clicker=_this.Clicker.bind(_assertThisInitialized(_this));return _this;}_createClass(SearchResults,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var artret=window.location.search.substring(4,window.location.search.length);console.log(artret);this.setState({articleId:artret});console.log(this.state.articleId);if(localStorage.getItem('selected')===\"true\"){fetch(\"http://localhost:5000/guardiansearch?id=\"+artret).then(function(response){return response.json();}).then(function(response){var articles=response.result;console.log(articles);_this2.setState({articlesList:articles,Loading:false});});}else{fetch(\"http://localhost:5000/NYtimessearch?id=\"+artret).then(function(response){return response.json();}).then(function(response){var articles=response.result;console.log(articles);_this2.setState({artList:articles,Loading:false});});}}},{key:\"rerender\",value:function rerender(nextProps){var _this3=this;var artret=nextProps.location.search.substring(4,nextProps.location.search.length);console.log(artret);this.setState({articleId:artret});console.log(this.state.articleId);if(localStorage.getItem('selected')===\"true\"){fetch(\"http://localhost:5000/guardiansearch?id=\"+artret).then(function(response){return response.json();}).then(function(response){var articles=response.result;console.log(articles);_this3.setState({articlesList:articles,Loading:false});});}else{fetch(\"http://localhost:5000/NYtimessearch?id=\"+artret).then(function(response){return response.json();}).then(function(response){var articles=response.result;console.log(articles);_this3.setState({artList:articles,Loading:false});});}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps,nextContext){var query=nextProps.location.search.substring(4,nextProps.location.search.length);if(query!=this.state.articleId){this.rerender(nextProps);}}},{key:\"handleClick\",value:function handleClick(event){event.stopPropagation();event.preventDefault();}},{key:\"Clicker\",value:function Clicker(event,val){localStorage.setItem(\"searchkey\",true);localStorage.setItem(\"filled\",false);this.props.history.push({pathname:\"/DetailedArticle\",search:\"id=\"+val});}},{key:\"displayItem\",value:function displayItem(props){var _this4=this;return/*#__PURE__*/React.createElement(Col,{style:{paddingLeft:\"0.5%\",paddingBottom:\"1%\"}},/*#__PURE__*/React.createElement(Card,{onClick:function onClick(event){return _this4.Clicker(event,props.id);},style:{boxShadow:'0px 0px 12px #333',marginTop:'2%',width:'99%',cursor:'pointer'}},/*#__PURE__*/React.createElement(Card.Title,{style:{fontSize:\"100%\",fontStyle:'italic',paddingTop:\"2%\",paddingLeft:\"6%\",paddingRight:\"6%\"}},props.title,\" \",/*#__PURE__*/React.createElement(\"span\",{onClick:this.handleClick},/*#__PURE__*/React.createElement(ShareModal,{title:props.title,url:props.url}),\" \")),/*#__PURE__*/React.createElement(Card.Body,{style:{marginTop:'-1.75%'}},/*#__PURE__*/React.createElement(Card.Img,{src:props.imageURL,alt:\"\",height:\"auto\",width:\"auto\",style:{objectFit:'cover',padding:'1%',border:'solid 0.5px lightgray',float:'left',marginTop:\"-4%\"}}),/*#__PURE__*/React.createElement(\"span\",{style:{float:'left',fontStyle:'italic',marginTop:\"2%\"}},props.date),/*#__PURE__*/React.createElement(Card.Text,{style:{marginTop:\"5%\"}},/*#__PURE__*/React.createElement(\"span\",{style:{float:'right',marginTop:\"3%\"}},\" \",HandleBadge(props.sectionId),\" \")))));}},{key:\"render\",value:function render(){var _this5=this;if(this.state.articlesList.length>0||this.state.artList.length>0){if(localStorage.getItem('selected')==='true'){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{float:'left',fontSize:\"190%\",marginLeft:\"2%\"}},\" Results \"),/*#__PURE__*/React.createElement(Container,{fluid:true,style:{marginLeft:\"1%\",clear:'both'},className:\"Search-Page\"},/*#__PURE__*/React.createElement(Row,{xl:4,xs:1,lg:4,md:4},this.state.articlesList.map(function(item){return _this5.displayItem(item);}))));}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{float:'left',fontSize:\"190%\",marginLeft:\"2%\"}},\" Results \"),/*#__PURE__*/React.createElement(Container,{fluid:true,style:{marginLeft:\"1%\",clear:'both'}},/*#__PURE__*/React.createElement(Row,{xl:4,xs:1,lg:4,md:4},this.state.artList.map(function(item){return _this5.displayItem(item);}))));}}else{return/*#__PURE__*/React.createElement(Spinner,null);}}}]);return SearchResults;}(React.Component);function HandleBadge(secname){var color=\"\";var backColor=\"\";console.log(secname);if(secname===\"world\"){color=\"#7C4EFF\";backColor=\"white\";secname=\"WORLD\";}else if(secname===\"politics\"){color=\"#419488\";backColor=\"white\";secname=\"POLITICS\";}else if(secname===\"business\"){color=\"#8EBFF3\";backColor=\"white\";secname=\"BUSINESS\";}else if(secname===\"technology\"){color=\"#CCCC00\";backColor=\"black\";secname=\"TECHNOLOGY\";}else if(secname===\"sport\"||secname===\"sports\"){color=\"#FF9930\";backColor=\"black\";secname=\"SPORTS\";}else{color=\"#778899\";backColor=\"white\";secname=secname.toUpperCase();}return/*#__PURE__*/React.createElement(Badge,{style:{color:backColor,backgroundColor:color}},\" \",secname,\" \");}export default withRouter(SearchResults);","map":{"version":3,"sources":["C:/Users/sumuk/hw8frontend/src/SearchResults.js"],"names":["React","withRouter","Spinner","ShareModal","Card","Container","Col","Row","Badge","SearchResults","state","Loading","articlesList","artList","articleId","Clicker","bind","artret","window","location","search","substring","length","console","log","setState","localStorage","getItem","fetch","then","response","json","articles","result","nextProps","nextContext","query","rerender","event","stopPropagation","preventDefault","val","setItem","props","history","push","pathname","paddingLeft","paddingBottom","id","boxShadow","marginTop","width","cursor","fontSize","fontStyle","paddingTop","paddingRight","title","handleClick","url","imageURL","objectFit","padding","border","float","date","HandleBadge","sectionId","marginLeft","clear","map","item","displayItem","Component","secname","color","backColor","toUpperCase","backgroundColor"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport Spinner from \"./Spinner\"\r\nimport ShareModal from \"./ShareModal\"\r\nimport {Card} from \"react-bootstrap\"\r\nimport Container from \"react-bootstrap/Container\"\r\nimport Col from \"react-bootstrap/Col\"\r\nimport Row from \"react-bootstrap/Row\"\r\nimport { Badge } from 'react-bootstrap'\r\n\r\nclass SearchResults extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            Loading: true,\r\n            articlesList: [],\r\n            artList: [],\r\n            articleId: \"\"\r\n\r\n        }\r\n        this.Clicker = this.Clicker.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        var artret = window.location.search.substring(4,window.location.search.length)\r\n        console.log(artret)\r\n        this.setState({articleId: artret})\r\n        console.log(this.state.articleId)\r\n        if (localStorage.getItem('selected') === \"true\"){\r\n        fetch(\"http://localhost:5000/guardiansearch?id=\"+artret).then(response => response.json())\r\n        .then(response => {\r\n            const articles = response.result\r\n            console.log(articles)\r\n         this.setState({articlesList:articles, Loading:false })\r\n        })\r\n    }\r\n    else{\r\n\r\n        fetch(\"http://localhost:5000/NYtimessearch?id=\"+artret).then(response => response.json())\r\n        .then(response => {\r\n            const articles = response.result\r\n            console.log(articles)\r\n         this.setState({artList: articles, Loading:false })\r\n        })\r\n      }\r\n    }\r\n\r\n      rerender(nextProps) {\r\n      var artret = nextProps.location.search.substring(4,nextProps.location.search.length)\r\n      console.log(artret)\r\n      this.setState({articleId: artret})\r\n      console.log(this.state.articleId)\r\n      if (localStorage.getItem('selected') === \"true\"){\r\n      fetch(\"http://localhost:5000/guardiansearch?id=\"+artret).then(response => response.json())\r\n      .then(response => {\r\n          const articles = response.result\r\n          console.log(articles)\r\n       this.setState({articlesList:articles, Loading:false })\r\n      })\r\n    }\r\n    else {\r\n      fetch(\"http://localhost:5000/NYtimessearch?id=\"+artret).then(response => response.json())\r\n      .then(response => {\r\n          const articles = response.result\r\n          console.log(articles)\r\n       this.setState({artList: articles, Loading:false })\r\n      })\r\n    }\r\n    }\r\n\r\n    \r\n    componentWillReceiveProps(nextProps,nextContext)\r\n    {\r\n        var query = nextProps.location.search.substring(4,nextProps.location.search.length);\r\n        if(query!=this.state.articleId)\r\n        {\r\n            this.rerender(nextProps);\r\n        }\r\n    }\r\n\r\n    handleClick(event) {\r\n        event.stopPropagation()\r\n        event.preventDefault()\r\n    }\r\n     \r\n      Clicker(event,val) {\r\n        localStorage.setItem(\"searchkey\", true)\r\n        localStorage.setItem(\"filled\", false)\r\n        this.props.history.push({pathname:\"/DetailedArticle\",search:\"id=\" + val})\r\n       }\r\n\r\n      displayItem(props) {\r\n        return(\r\n            <Col style={{paddingLeft:\"0.5%\",paddingBottom:\"1%\"}}>\r\n            <Card onClick={(event) => this.Clicker(event,props.id)} style={{boxShadow:'0px 0px 12px #333',marginTop:'2%',width:'99%',cursor:'pointer'}}>\r\n            <Card.Title style={{fontSize:\"100%\",fontStyle:'italic',paddingTop:\"2%\", paddingLeft:\"6%\",paddingRight:\"6%\"}}>\r\n                  {props.title} <span onClick={this.handleClick}><ShareModal title={props.title} url={props.url} /> </span>\r\n            </Card.Title>\r\n            <Card.Body style={{marginTop:'-1.75%'}}>\r\n\r\n                <Card.Img src={props.imageURL} alt=\"\" height=\"auto\" width=\"auto\" style={{objectFit:'cover',padding:\r\n                    '1%', border:'solid 0.5px lightgray',float:'left', marginTop:\"-4%\"}}/>\r\n                <span style={{float:'left', fontStyle:'italic',marginTop:\"2%\"}}>{props.date}</span>\r\n                <Card.Text style={{marginTop:\"5%\"}}>\r\n                <span style={{float:'right',marginTop:\"3%\"}}> {HandleBadge(props.sectionId)} </span>\r\n                </Card.Text>\r\n                </Card.Body>\r\n                </Card>\r\n            </Col>\r\n            \r\n             \r\n\r\n        )\r\n\r\n    }\r\n\r\n    render()\r\n    { \r\n            if(this.state.articlesList.length > 0 || this.state.artList.length > 0) {\r\n                if(localStorage.getItem('selected') === 'true'){\r\n            \r\n                    return (\r\n                          <div>\r\n                          <div style={{float:'left',fontSize:\"190%\",marginLeft:\"2%\"}}> Results </div>\r\n                         <Container fluid={true} style={{marginLeft:\"1%\", clear:'both'}} className= \"Search-Page\">\r\n                         <Row xl={4} xs={1} lg={4} md={4}>\r\n                        {this.state.articlesList.map(item => this.displayItem(item))}\r\n                        </Row>\r\n                         </Container>\r\n    \r\n                         </div>\r\n                        )\r\n                }\r\n                else{\r\n                    return(\r\n                    <div>\r\n                    <div style={{float:'left',fontSize:\"190%\",marginLeft:\"2%\"}}> Results </div>\r\n                   <Container fluid={true} style={{marginLeft:\"1%\", clear:'both'}}>\r\n                   <Row xl={4} xs={1} lg={4} md={4}>\r\n                       {this.state.artList.map(item => this.displayItem(item))}\r\n                    </Row>\r\n                   </Container>\r\n                   </div>\r\n                  )\r\n            }\r\n        }\r\n        else{\r\n            return(<Spinner />)\r\n        }\r\n    }\r\n}\r\n\r\nfunction HandleBadge(secname) {\r\n    let color = \"\"\r\n    let backColor = \"\"\r\n    console.log(secname)\r\n\r\n    if (secname === \"world\"){\r\n        color = \"#7C4EFF\"\r\n        backColor = \"white\"\r\n        secname = \"WORLD\"\r\n     }\r\n    else if (secname === \"politics\") {\r\n        color = \"#419488\"\r\n        backColor = \"white\"\r\n        secname = \"POLITICS\"\r\n    }\r\n    else if (secname === \"business\") {\r\n        color = \"#8EBFF3\"\r\n        backColor = \"white\"\r\n        secname = \"BUSINESS\"\r\n    }\r\n\r\n    else if (secname === \"technology\") {\r\n        color = \"#CCCC00\"\r\n        backColor  = \"black\"\r\n        secname = \"TECHNOLOGY\"\r\n    }\r\n\r\n    else if (secname === \"sport\" || secname=== \"sports\") {\r\n        color = \"#FF9930\"\r\n        backColor = \"black\"\r\n        secname = \"SPORTS\"\r\n\r\n    }\r\n    else {\r\n        color = \"#778899\"\r\n        backColor = \"white\"\r\n        secname = secname.toUpperCase()\r\n     }\r\n    \r\n\r\n    return(\r\n        <Badge style={{color:backColor, backgroundColor:color}}> {secname} </Badge>\r\n    )\r\n\r\n}\r\n\r\nexport default withRouter(SearchResults)"]},"metadata":{},"sourceType":"module"}